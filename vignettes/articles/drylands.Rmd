---
title: "Drylands: Global Dryland Ecoregion Plant Richness Data"
output:
  rmarkdown::html_document:
    toc: true
    toc_title: "Contents"
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  eval = TRUE,
  collapse = TRUE,
  comment = "#>",
  out.width = "100%"
)
```

## Overview

The `drylands` dataset contains plant richness metrics for **290 global dryland ecoregions**, combined with 60 environmental predictor variables. Ecoregion boundaries are derived from [Ecoregions 2017](https://ecoregions2017.appspot.com/) and filtered by aridity index from the Global Aridity Index 2.0 dataset.

**Note on geometry:** Original polygon geometries have been converted to square polygons based on ecoregion area (`ecoregion_area_km2`) to reduce file size while preserving spatial context.

The dataset includes five response variables representing plant richness at different taxonomic levels:

- **species**: Number of plant species per ecoregion
- **genuses**: Number of plant genuses per ecoregion
- **families**: Number of plant families per ecoregion
- **classes**: Number of plant classes per ecoregion
- **phyla**: Number of plant phyla per ecoregion

## Loading the Data

```{r setup}
library(spatialData)

# Load the main dataset
data(drylands)

# Load helper vectors
data(drylands_responses)
data(drylands_predictors)

# View helper vectors
drylands_responses
drylands_predictors
```

## Data Structure

The `drylands` dataset is an **sf data frame** with polygon geometries in WGS84 (EPSG:4326):

```{r structure}
class(drylands)
dim(drylands)
str(drylands, give.attr = FALSE)
```

## Categorical Variables

### Biome Distribution

The dataset includes 14 biome categories:

```{r biome}
table(drylands$biome)
```

### Realm Distribution

The dataset spans 7 biogeographic realms:

```{r realm}
table(drylands$realm)
```

## Response Variables

The dataset contains five response variables measuring plant richness at different taxonomic levels:

| Variable | Description |
|----------|-------------|
| `species` | Number of plant species |
| `genuses` | Number of plant genuses |
| `families` | Number of plant families |
| `classes` | Number of plant classes |
| `phyla` | Number of plant phyla |

```{r responses}
summary(drylands[, drylands_responses])
```

## Predictor Variables

The dataset includes **60 predictor variables** organized into eight categories:

### Soil Properties (10 variables)

| Variable | Description |
|----------|-------------|
| `soil_temperature_max` | Maximum soil temperature |
| `soil_temperature_mean` | Mean soil temperature |
| `soil_temperature_min` | Minimum soil temperature |
| `soil_temperature_range` | Soil temperature range |
| `soil_clay` | Soil clay content |
| `soil_nitrogen` | Soil nitrogen content |
| `soil_organic_carbon` | Soil organic carbon content |
| `soil_ph` | Soil pH |
| `soil_sand` | Soil sand content |
| `soil_silt` | Soil silt content |

### Soil Water (4 variables)

| Variable | Description |
|----------|-------------|
| `soil_water_max` | Maximum soil water content |
| `soil_water_mean` | Mean soil water content |
| `soil_water_min` | Minimum soil water content |
| `soil_water_range` | Soil water content range |

### Topography (7 variables)

| Variable | Description |
|----------|-------------|
| `elevation` | Mean elevation |
| `topography_aspect` | Terrain aspect |
| `topography_diversity` | Topographic diversity index |
| `topography_position` | Topographic position index |
| `topography_roughness` | Terrain roughness |
| `topography_slope` | Terrain slope |
| `topography_wetness` | Topographic wetness index |

### Geography (1 variable)

| Variable | Description |
|----------|-------------|
| `distance_to_ocean` | Distance to nearest ocean |

### Vegetation (4 variables)

| Variable | Description |
|----------|-------------|
| `ndvi_max` | Maximum NDVI |
| `ndvi_mean` | Mean NDVI |
| `ndvi_min` | Minimum NDVI |
| `ndvi_range` | NDVI range |

### Atmosphere (8 variables)

| Variable | Description |
|----------|-------------|
| `air_humidity_max` | Maximum air humidity |
| `air_humidity_mean` | Mean air humidity |
| `air_humidity_min` | Minimum air humidity |
| `air_humidity_range` | Air humidity range |
| `cloud_cover_max` | Maximum cloud cover |
| `cloud_cover_mean` | Mean cloud cover |
| `cloud_cover_min` | Minimum cloud cover |
| `cloud_cover_range` | Cloud cover range |

### Climate and Aridity (24 variables)

| Variable | Description |
|----------|-------------|
| `aridity_mean` | Mean aridity index |
| `evapotranspiration_max` | Maximum evapotranspiration |
| `evapotranspiration_mean` | Mean evapotranspiration |
| `evapotranspiration_min` | Minimum evapotranspiration |
| `evapotranspiration_range` | Evapotranspiration range |
| `precipitation_seasonality` | Precipitation seasonality |
| `precipitation_sum` | Total annual precipitation |
| `precipitation_coldest_quarter_sum` | Precipitation of coldest quarter |
| `precipitation_driest_month_sum` | Precipitation of driest month |
| `precipitation_driest_quarter_sum` | Precipitation of driest quarter |
| `precipitation_warmest_quarter_sum` | Precipitation of warmest quarter |
| `precipitation_wettest_month_sum` | Precipitation of wettest month |
| `precipitation_wettest_quarter_sum` | Precipitation of wettest quarter |
| `temperature_isothermality` | Temperature isothermality |
| `temperature_mean_daily_range` | Mean daily temperature range |
| `temperature_mean` | Mean temperature |
| `temperature_range` | Annual temperature range |
| `temperature_seasonality` | Temperature seasonality |
| `temperature_coldest_month_minimum` | Minimum temperature of coldest month |
| `temperature_coldest_quarter_mean` | Mean temperature of coldest quarter |
| `temperature_driest_quarter_mean` | Mean temperature of driest quarter |
| `temperature_warmest_month_maximum` | Maximum temperature of warmest month |
| `temperature_warmest_quarter_mean` | Mean temperature of warmest quarter |
| `temperature_wettest_quarter_mean` | Mean temperature of wettest quarter |

### Ecoregion Morphology (2 variables)

| Variable | Description |
|----------|-------------|
| `ecoregion_perimeter_km` | Ecoregion perimeter in kilometers |
| `ecoregion_area_km2` | Ecoregion area in square kilometers |

### Summary Statistics

```{r predictors}
summary(drylands[, drylands_predictors])
```

## Interactive Map

The map below shows the spatial distribution of dryland ecoregions by biome:

```{r map-biome, message=FALSE}
library(mapview)

mapview(
  drylands,
  zcol = "biome",
  layer.name = "Biome"
)
```

Plant species richness across dryland ecoregions:

```{r map-species, message=FALSE}
mapview(
  drylands,
  zcol = "species",
  layer.name = "Species Richness"
)
```

## Citation

When using this dataset, please cite the following sources:

- **GBIF Plantae Dataset (September 15, 2020)**
  [doi:10.15468/dl.xh5y5g](https://doi.org/10.15468/dl.xh5y5g)

- **Dinerstein, E., et al. (2017).** An Ecoregion-Based Approach to Protecting Half the Terrestrial Realm. *BioScience*, 67(6), 534-545.
  [doi:10.1093/biosci/bix014](https://doi.org/10.1093/biosci/bix014)

- **Trabucco, A., & Zomer, R. (2019).** Global Aridity Index and Potential Evapotranspiration (ET0) Climate Database v2.
  [doi:10.6084/m9.figshare.7504448.v3](https://doi.org/10.6084/m9.figshare.7504448.v3)

- **Associated with: Maestre, F. T., et al. (2021).** Biogeography of Global Drylands. *New Phytologist*, 231(2), 540-558.
  [doi:10.1111/nph.17395](https://doi.org/10.1111/nph.17395)
